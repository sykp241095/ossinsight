(self.webpackChunkweb=self.webpackChunkweb||[]).push([[2305,486],{23508:(e,t,a)=>{"use strict";var n=a(64836);t.Z=void 0;var r=n(a(64938)),l=a(85893),o=(0,r.default)((0,l.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},88579:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(67294),r=a(39960),l=a(47051),o=a(90244),i=a(93978),s=a(5605),c=a(39807),u=a(69417);function m(e){let{stats:t,showTable:a=!1}=e;return n.createElement(o.Z,{className:"clearTable"},n.createElement(i.Z,null,n.createElement(u.Z,null,a?n.createElement(s.Z,null,"Table"):void 0,n.createElement(s.Z,null,"Index"),n.createElement(s.Z,null,"Calls"))),n.createElement(c.Z,null,t.map((e=>n.createElement(u.Z,{key:`${e.tableName}.${e.indexName}`},a?n.createElement(s.Z,null,n.createElement(r.Z,{to:`/stats/tables/${e.tableName}`},e.tableName)):void 0,n.createElement(s.Z,null,e.indexName),n.createElement(s.Z,null,n.createElement(l.Z,{value:e.calls??0,hasComma:!0,duration:200,size:14})))))))}},98322:(e,t,a)=>{"use strict";a.d(t,{Y:()=>l});var n=a(67294),r=a(73766);function l(e,t){(0,n.useEffect)((()=>{const a=(0,r.v)(e,t);return()=>(0,r.r)(a)}),[e,t])}},7264:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ae});var n=a(67294),r=a(88242),l=a(16550),o=a(6971),i=a(88579),s=a(61084),c=a(90244),u=a(93978),m=a(5605),d=a(39807),p=a(69417),f=a(21448);function h(e){let{infos:t}=e;return n.createElement(c.Z,{className:"clearTable"},n.createElement(u.Z,null,n.createElement(p.Z,null,n.createElement(m.Z,null,"Index Name"),n.createElement(m.Z,null,"Columns"),n.createElement(m.Z,null,"Clustered"),n.createElement(m.Z,null,"Visible"),n.createElement(m.Z,null,"Unique"))),n.createElement(d.Z,null,t.map((e=>n.createElement(p.Z,{key:e.indexName},n.createElement(m.Z,null,e.indexName),n.createElement(m.Z,null,e.columns.split(",").map((e=>n.createElement(f.Z,{key:e,size:"small",label:e,sx:{m:.25}})))),n.createElement(m.Z,null,e.clustered),n.createElement(m.Z,null,e.isVisible),n.createElement(m.Z,null,e.nonUnique?"NO":"YES"))))))}var v=a(23508),g=a(31486),E=a.n(g),b=a(61802),x=a(76992),Z=a(47028),y=a(29618);const w=[{key:"tableSchema"},{key:"tableName"},{key:"tableRows",humanFormat:{}},{key:"avgRowLength",humanFormat:{unit:"B"}},{key:"dataLength",humanFormat:{unit:"B"}},{key:"indexLength",humanFormat:{unit:"B"}},{key:"createTime"},{key:"tableCollation"},{key:"createOptions"},{key:"rowIdShardingInfo"},{key:"pkType"}];function k(e){let{info:t}=e;return n.createElement(x.Z,null,n.createElement(y.Z,{expandIcon:n.createElement(v.Z,null)},"Table Info"),n.createElement(Z.Z,null,n.createElement(c.Z,{className:"clearTable",size:"small"},n.createElement(d.Z,null,w.map((e=>{let{key:a,humanFormat:r}=e;return n.createElement(p.Z,{key:a},n.createElement(m.Z,{sx:{fontWeight:"bold"}},a),n.createElement(m.Z,null,(0,b.N6)(r)?E()((0,b.ES)(null==t?void 0:t[a],0),r):(0,b.ES)(null==t?void 0:t[a],"--")))}))))))}var N=a(20486),C=a(98322),B=a(39960),S=a(36336),I=a(62348),T=a(18661),M=a(61953),_=a(87462),L=a(63366),R=(a(76607),a(86010)),P=a(94780),F=a(81719),z=a(78884),V=a(29630),A=a(41796),$=a(54235),j=a(85893);const W=(0,$.Z)((0,j.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var H=a(50522);const D=(0,F.ZP)(H.Z)((({theme:e})=>(0,_.Z)({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},"light"===e.palette.mode?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,_.Z)({},"light"===e.palette.mode?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":(0,_.Z)({boxShadow:e.shadows[0]},"light"===e.palette.mode?{backgroundColor:(0,A._4)(e.palette.grey[200],.12)}:{backgroundColor:(0,A._4)(e.palette.grey[600],.12)})}))),O=(0,F.ZP)(W)({width:24,height:16});const Y=function(e){const t=e;return(0,j.jsx)("li",{children:(0,j.jsx)(D,(0,_.Z)({focusRipple:!0},e,{ownerState:t,children:(0,j.jsx)(O,{ownerState:t})}))})};var q=a(34867);function U(e){return(0,q.Z)("MuiBreadcrumbs",e)}const G=(0,a(1588).Z)("MuiBreadcrumbs",["root","ol","li","separator"]),K=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],Q=(0,F.ZP)(V.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${G.li}`]:t.li},t.root]})({}),J=(0,F.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),X=(0,F.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function ee(e,t,a,n){return e.reduce(((r,l,o)=>(o<e.length-1?r=r.concat(l,(0,j.jsx)(X,{"aria-hidden":!0,className:t,ownerState:n,children:a},`separator-${o}`)):r.push(l),r)),[])}const te=n.forwardRef((function(e,t){const a=(0,z.Z)({props:e,name:"MuiBreadcrumbs"}),{children:r,className:l,component:o="nav",expandText:i="Show path",itemsAfterCollapse:s=1,itemsBeforeCollapse:c=1,maxItems:u=8,separator:m="/"}=a,d=(0,L.Z)(a,K),[p,f]=n.useState(!1),h=(0,_.Z)({},a,{component:o,expanded:p,expandText:i,itemsAfterCollapse:s,itemsBeforeCollapse:c,maxItems:u,separator:m}),v=(e=>{const{classes:t}=e;return(0,P.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},U,t)})(h),g=n.useRef(null),E=n.Children.toArray(r).filter((e=>n.isValidElement(e))).map(((e,t)=>(0,j.jsx)("li",{className:v.li,children:e},`child-${t}`)));return(0,j.jsx)(Q,(0,_.Z)({ref:t,component:o,color:"text.secondary",className:(0,R.Z)(v.root,l),ownerState:h},d,{children:(0,j.jsx)(J,{className:v.ol,ref:g,ownerState:h,children:ee(p||u&&E.length<=u?E:(e=>c+s>=e.length?e:[...e.slice(0,c),(0,j.jsx)(Y,{"aria-label":i,onClick:()=>{f(!0);const e=g.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-s,e.length)])(E),v.separator,m,h)})}))}));function ae(){const{params:{slug:e}}=(0,l.$B)(),[t,a]=(0,n.useState)("index-usage"),{data:i}=(0,o.WV)("stats-table-info",{tableName:e},!1,!0);return(0,n.useMemo)((()=>0===(null==i?void 0:i.data.length)),[i])?n.createElement(N.default,null):n.createElement(r.Z,{title:`Stats - ${e}`},n.createElement(S.Z,{maxWidth:"lg"},n.createElement(te,{sx:{my:2}},n.createElement(B.Z,{to:"/stats"},"Stats"),n.createElement("span",null,"Tables"),n.createElement("span",null,e)),n.createElement(k,{info:null==i?void 0:i.data[0]}),n.createElement(I.Z,{onChange:(e,t)=>a(t),value:t,sx:{mt:2}},n.createElement(T.Z,{label:"Index Usage",value:"index-usage"}),n.createElement(T.Z,{label:"Index Info",value:"index-info"}),n.createElement(T.Z,{label:"DDL",value:"ddl"})),"index-usage"===t?n.createElement(ne,{slug:e}):void 0,"index-info"===t?n.createElement(re,{slug:e}):void 0,"ddl"===t?n.createElement(le,{slug:e}):void 0,n.createElement(M.Z,{height:16})))}function ne(e){let{slug:t}=e;const{data:a,reload:r}=(0,o.WV)("stats-index-usage",{tableName:t},!1,!0,"unique");return(0,C.Y)(r,1e3),n.createElement(i.Z,{stats:(null==a?void 0:a.data)??[]})}function re(e){let{slug:t}=e;const{data:a}=(0,o.WV)("stats-index-info",{tableName:t},!1,!0);return n.createElement(h,{infos:(null==a?void 0:a.data)??[]})}function le(e){let{slug:t}=e;const{data:a}=(0,o.WV)("stats-table-ddl",{tableName:t},!1,!0),r=(0,n.useMemo)((()=>null==a?void 0:a.data[0]["Create Table"]),[a]);return r?n.createElement(s.Z,{className:"language-sql"},r):null}},8106:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(67294),r=a(86010),l=a(95999),o=a(25108);const i={copyButtonCopied:"copyButtonCopied__QnY",copyButtonIcons:"copyButtonIcons_FhaS",copyButtonIcon:"copyButtonIcon_phi_",copyButtonSuccessIcon:"copyButtonSuccessIcon_FfTR"};function s(e){let{code:t,className:a}=e;const[s,c]=(0,n.useState)(!1),u=(0,n.useRef)(void 0),m=(0,n.useCallback)((()=>{var e;e=t,navigator.clipboard.writeText(e).catch(o.error),c(!0),u.current=window.setTimeout((()=>{c(!1)}),1e3)}),[t]);return(0,n.useEffect)((()=>()=>window.clearTimeout(u.current)),[]),n.createElement("button",{type:"button","aria-label":s?(0,l.I)({id:"theme.CodeBlock.copied",message:"Copied",description:"The copied button label on code blocks"}):(0,l.I)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),title:(0,l.I)({id:"theme.CodeBlock.copy",message:"Copy",description:"The copy button label on code blocks"}),className:(0,r.Z)("clean-btn",a,i.copyButton,s&&i.copyButtonCopied),onClick:m},n.createElement("span",{className:i.copyButtonIcons,"aria-hidden":"true"},n.createElement("svg",{className:i.copyButtonIcon,viewBox:"0 0 24 24"},n.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"})),n.createElement("svg",{className:i.copyButtonSuccessIcon,viewBox:"0 0 24 24"},n.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))}},88242:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(87462),r=a(5018),l=a(67294),o=a(61802),i=a(61953);function s(e){let{children:t,header:a,dark:s,sideWidth:c,Side:u,footer:m=!0,...d}=e;return(0,l.useLayoutEffect)((()=>{var e;const t=location.hash.replace(/^#/,"");null==(e=document.getElementById(t))||e.scrollIntoView()}),[]),l.createElement(r.Z,(0,n.Z)({},d,{customFooter:m,header:a,sideWidth:c,side:c&&(0,o.nf)(u)?l.createElement(i.Z,{component:"aside",width:c,position:"sticky",top:"calc(var(--ifm-navbar-height) + 76px)",height:0,zIndex:0},l.createElement(i.Z,{marginTop:"-76px",height:"calc(100vh - var(--ifm-navbar-height))"},l.createElement(u,null))):void 0}),l.createElement("div",{hidden:!0,style:{height:72}}),l.createElement("div",{style:{paddingLeft:c,paddingRight:c}},l.createElement("main",{style:{"--ifm-container-width-xl":"1200px"}},t)))}},20486:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var n=a(67294),r=a(95999),l=a(10833),o=a(5018),i=a(16550),s=a(29630),c=a(70754);function u(){const e=(0,i.k6)(),[t,a]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{var t,n;let{pathname:r,search:l,hash:o}=window.location;l=null==(t=l)?void 0:t.replace(/^\?/,""),o=null==(n=o)?void 0:n.replace(/^#/,"");const[i,...s]=r.split("/");if("analyze"===i){if(s.length>=1&&s.length<=2)return void e.replace({pathname:r,search:l,hash:o});if(0===s.length)return void e.replace({pathname:"/analyze/pingcap/tidb",search:l,hash:o})}a(!0)}),[]),n.createElement(n.Fragment,null,n.createElement(l.d,{title:(0,r.I)({id:"theme.NotFound.title",message:"Page Not Found"})?void 0:"Loading...",description:"The comprehensive Open Source Software insight tool by analyzing massive events from GitHub, powered by TiDB, the best insight building database of data agility.",image:"/img/screenshots/homepage.png"}),n.createElement(o.Z,{disableAuth:!0},t?n.createElement("main",{className:"container margin-vert--xl"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col col--6 col--offset-3"},n.createElement("h1",{className:"hero__title"},n.createElement(r.Z,{id:"theme.NotFound.title",description:"The title of the 404 page"},"Page Not Found")),n.createElement("p",null,n.createElement(r.Z,{id:"theme.NotFound.p1",description:"The first paragraph of the 404 page"},"We could not find what you were looking for.")),n.createElement("p",null,n.createElement(r.Z,{id:"theme.NotFound.p2",description:"The 2nd paragraph of the 404 page"},"Please contact the owner of the site that linked you to the original URL and let them know their link is broken."))))):n.createElement("main",{className:"container margin-vert--xl"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col col--6 col--offset-3"},n.createElement(s.Z,{variant:"body1",fontSize:24},"Loading... \xa0",n.createElement(c.Z,{sx:{display:"inline-block"},size:24})))))))}},31486:function(e,t){var a,n,r;n=[],a=function(){"use strict";function e(e,t){var a,n,r;for(a=1,n=arguments.length;a<n;++a)if(null!=(t=arguments[a]))for(r in t)i(t,r)&&(e[r]=t[r]);return e}function t(e,t){return t.length-e.length}function a(e,t){return e.factor-t.factor}function n(e){return e.replace(/([.*+?=^!:${}()|[\]/\\])/g,"\\$1")}function r(e,t){var a,n;for(a=0,n=e.length;a<n;++a)t(e[a],a)}function l(e,t){var a;for(a in e)i(e,a)&&t(e[a],a)}var o,i=(o=Object.prototype.hasOwnProperty,function(e,t){return null!=e&&o.call(e,t)});function s(e,t){for(;"string"==typeof t;)t=e[t];return t}function c(e){this._prefixes=e;var r=[],o=[];l(e,(function(e,t){r.push(n(t)),o.push({factor:e,prefix:t})}));var s=this._lcPrefixes={};l(e,(function(t,a){var n=a.toLowerCase();i(e,n)||(s[n]=a)})),o.sort(a),this._list=o,r.sort(t),this._regexp=new RegExp("^\\s*(-)?\\s*(\\d+(?:\\.\\d+)?)\\s*("+r.join("|")+")\\s*(.*)\\s*?$","i")}c.create=function(e,t,a){var n={};return void 0===a&&(a=0),r(e,(function(e,r){n[e]=Math.pow(t,r+a)})),new c(n)},c.prototype.findPrefix=function(e){for(var t,a=this._list,n=0,r=a.length-1;n!==r;)a[t=n+r+1>>1].factor>e?r=t-1:n=t;return a[n]},c.prototype.parse=function(e,t){var a=e.match(this._regexp);if(null!==a){var n,r=a[3];if(i(this._prefixes,r))n=this._prefixes[r];else{if(t||(r=r.toLowerCase(),!i(this._lcPrefixes,r)))return;r=this._lcPrefixes[r],n=this._prefixes[r]}var l=+a[2];return void 0!==a[1]&&(l=-l),{factor:n,prefix:r,unit:a[4],value:l}}};var u={binary:c.create(",Ki,Mi,Gi,Ti,Pi,Ei,Zi,Yi".split(","),1024),SI:c.create("y,z,a,f,p,n,\xb5,m,,k,M,G,T,P,E,Z,Y".split(","),1e3,-8)},m={maxDecimals:2,separator:" ",unit:""},d={scale:"SI",strict:!1};function p(t,a){var n=(a=e({},m,a)).decimals;void 0!==n&&delete a.maxDecimals;var r=E(t,a);t=void 0!==n?r.value.toFixed(n):String(r.value);var l=r.prefix+a.unit;return""===l?t:t+a.separator+l}var f={scale:"binary",unit:"B"};function h(t,a){return p(t,void 0===a?f:e({},f,a))}function v(e,t){var a=g(e,t);return a.value*a.factor}function g(t,a){if("string"!=typeof t)throw new TypeError("str must be a string");a=e({},d,a);var n=s(u,a.scale);if(void 0===n)throw new Error("missing scale");var r=n.parse(t,a.strict);if(void 0===r)throw new Error("cannot parse str");return r}function E(t,a){if(0===t)return{value:0,prefix:""};if(t<0){var n=E(-t,a);return n.value=-n.value,n}if("number"!=typeof t||Number.isNaN(t))throw new TypeError("value must be a number");a=e({},d,a);var r,l=s(u,a.scale);if(void 0===l)throw new Error("missing scale");var o=a.maxDecimals,c="auto"===o;c?r=10:void 0!==o&&(r=Math.pow(10,o));var m,p=a.prefix;if(void 0!==p){if(!i(l._prefixes,p))throw new Error("invalid prefix");m=l._prefixes[p]}else{var f=l.findPrefix(t);if(void 0!==r)do{var h=(m=f.factor)/r;t=Math.round(t/h)*h}while((f=l.findPrefix(t)).factor!==m);else m=f.factor;p=f.prefix}return t=void 0===r?t/m:Math.round(t*r/m)/r,c&&Math.abs(t)>=10&&(t=Math.round(t)),{prefix:p,value:t}}return p.bytes=h,p.parse=v,v.raw=g,p.raw=E,p.Scale=c,p},void 0===(r="function"==typeof a?a.apply(t,n):a)||(e.exports=r)}}]);